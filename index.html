<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–µ–Ω—å–≥–∏ –ø–æ–¥ –Ω–æ—Å–æ–º: –ö–≤–∏–∑</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Roboto', sans-serif;
    background-color: #f7f7f7;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  h1, h2, h3 {
    font-family: 'Press Start 2P', cursive;
    color: #212121;
  }
  .container {
    background-color: #fff;
    border: 2px solid #212121;
    box-shadow: 4px 4px 0 #212121;
    padding: 2rem;
    width: 100%;
    max-width: 32rem;
    text-align: center;
    position: relative;
  }
  .btn {
    border: 2px solid #212121;
    background-color: #e0e0e0;
    color: #212121;
    box-shadow: 2px 2px 0 #212121;
    transition: transform 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
    cursor: pointer;
  }
  .btn:hover { transform: translateY(-2px) translateX(-2px); }
  .btn:active { transform: translateY(2px) translateX(2px); box-shadow: 0 0 0 #212121; }
  .btn-orange {
    background-color: #f97316;
    color: white;
    box-shadow: 2px 2px 0 #ea580c;
  }
  .btn-orange:hover { background-color: #ea580c; }
  .btn-orange:active { background-color: #c2410c; transform: translate(2px,2px); box-shadow: 0 0 0 #c2410c; }
  .selected {
    background-color: #f97316;
    color: white;
    box-shadow: 2px 2px 0 #ea580c;
  }
  .progress-bar-container {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 10px;
    background-color: #e0e0e0;
  }
  .progress-bar {
    height: 100%;
    background-color: #212121;
    transition: width 0.5s ease-in-out, opacity 0.3s ease-in-out;
    opacity: 0;
    position: relative;
    overflow: hidden;
  }
  .progress-bar::after {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background-image: repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.2) 0,
      rgba(255,255,255,0.2) 1px,
      transparent 1px,
      transparent 2px
    );
    animation: flicker 0.15s infinite linear;
  }
  @keyframes flicker {
    0%,100% { transform: translateX(0); opacity:0.3; }
    50% { transform: translateX(-2px); opacity:0.6; }
  }
  .fade-in { animation: fadeIn 0.5s ease forwards; opacity: 0; }
  @keyframes fadeIn { to { opacity: 1; } }
</style>
</head>
<body>
<div id="quiz-container" class="container p-4 sm:p-8"></div>

<script>
const quizData = [
  {type:'single',question:'–ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî —Ç—ã —Ö–æ—á–µ—à—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ –∏ –Ω–∏—á–µ–≥–æ –Ω–∞ —ç—Ç–æ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å? üòâ',
   options:['–î–∞','–ö–æ–Ω–µ—á–Ω–æ','–ü–æ–≥–Ω–∞–ª–∏!'],
   comments:{'–î–∞':'–û—Ç–ª–∏—á–Ω–æ! –¢–≤–æ—ë –∂–µ–ª–∞–Ω–∏–µ ‚Äî –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É! üî•','–ö–æ–Ω–µ—á–Ω–æ':'–í–æ—Ç —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π! –ú—ã –Ω–∞ –æ–¥–Ω–æ–π –≤–æ–ª–Ω–µ! üòé','–ü–æ–≥–Ω–∞–ª–∏!':'–¢—É—Ä–±–æ-—Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! ‚ö°'}},
  {type:'single',question:'–°–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ —Ç–≤–æ–µ–π –±–∞–∑—ã —É —Ç–µ–±—è —Ä–µ–∞–ª—å–Ω–æ –ø–æ–∫—É–ø–∞–µ—Ç?',
   options:['–ë–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã','–ú–µ–Ω—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã','–ü–æ—á—Ç–∏ –Ω–∏–∫—Ç–æ'],
   comments:{'–ë–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã':'–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Ä–æ—Å—Ç–∞! üìà','–ú–µ–Ω—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã':'–¢—ã –≤–∏–¥–∏—à—å –ø—Ä–æ–±–ª–µ–º—É. –û—Ç–ª–∏—á–Ω–æ, —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –Ω–∞–π–¥—ë–º —Ä–µ—à–µ–Ω–∏–µ, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤! üòâ','–ü–æ—á—Ç–∏ –Ω–∏–∫—Ç–æ':'–ê–∞–∞–∞, —ç—Ç–æ —Ç–≤–æ–∏ –¥–µ–Ω—å–≥–∏, –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã –Ω–µ –≤–∏–¥–∏—à—å! üí∏'}},
  {type:'multiple',question:'–ß—Ç–æ —É —Ç–µ–±—è –ª–µ–∂–∏—Ç –º–µ—Ä—Ç–≤—ã–º –≥—Ä—É–∑–æ–º, –Ω–æ –º–æ–≥–ª–æ –±—ã –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –¥–µ–Ω—å–≥–∏?',
   options:['–ö–æ–Ω—Ç–µ–Ω—Ç / –º–∞—Ç–µ—Ä–∏–∞–ª—ã','–¢–æ–≤–∞—Ä—ã / —É—Å–ª—É–≥–∏','–ù–∞–≤—ã–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤','–ü–∞—Ä—Ç–Ω—ë—Ä—ã / –∫–∞–Ω–∞–ª—ã'],
   comment:'–°–º–æ—Ç—Ä–∏-–∫–∞, –≤–æ—Ç —Ç—É—Ç —Ç–≤–æ–∏ —Å–∫—Ä—ã—Ç—ã–µ —Å–æ–∫—Ä–æ–≤–∏—â–∞! ü§ë'},
  {type:'single',question:'–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã, –∫–∞–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç —Ç—ã —Ö–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å?',
   options:['–ó–∞–º–µ—Ç–Ω—ã–π','–ú–æ—â–Ω—ã–π'],
   comments:{'–ó–∞–º–µ—Ç–Ω—ã–π':'–≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –Ω–∞—Å—Ç—Ä–æ–π! –°–∫–æ—Ä–æ —ç—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã —Å—Ç–∞–Ω—É—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞! üí∞','–ú–æ—â–Ω—ã–π':'–•–º–º, –º–æ—â–Ω—ã–π? –û—Ç–ª–∏—á–Ω–æ, –º—ã –≤–∫–ª—é—á–∞–µ–º —É—Å–∫–æ—Ä–µ–Ω–∏–µ! ‚ö°'}},
  {type:'single',question:'–¢—ã —Ç–æ—á–Ω–æ –≥–æ—Ç–æ–≤(–∞) –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ —Ç–æ–º, —á—Ç–æ —É–∂–µ –µ—Å—Ç—å?',
   options:['–î–∞','–ö–æ–Ω–µ—á–Ω–æ','–ö–æ–Ω–µ—á–Ω–æ, –∫–æ–Ω–µ—á–Ω–æ, –∫–æ–Ω–µ—á–Ω–æ!'],
   comments:{'–î–∞':'–ü–æ—Ö–æ–∂–µ, —Ç—ã –≤ –±–æ–µ–≤–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏! üöÄ','–ö–æ–Ω–µ—á–Ω–æ':'–í–æ—Ç —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π! –ú—ã –Ω–∞ –æ–¥–Ω–æ–π –≤–æ–ª–Ω–µ! üòé','–ö–æ–Ω–µ—á–Ω–æ, –∫–æ–Ω–µ—á–Ω–æ, –∫–æ–Ω–µ—á–Ω–æ!':'–¢—ã —É–∂–µ –≤ —Ç—É—Ä–±–æ-—Ä–µ–∂–∏–º–µ! üî•'}}
];

let currentQuestionIndex = 0;
const container = document.getElementById('quiz-container');
const userAnswers = [];

function renderIntro(){
  container.innerHTML = `
    <h1 class="text-3xl font-bold mb-6 leading-tight">–î–ï–ù–¨–ì–ò –ü–û–î –ù–û–°–û–ú</h1>
    <p class="text-xl mb-6 leading-relaxed">–ü—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è —Å–æ–∑–¥–∞–ª–∏ –¥–≤–∞ –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω—ã—Ö —á–µ–ª–æ–≤–µ–∫–∞, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —è —Ö–æ—á—É —Ç–µ–±—è –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å üòé</p>
    <p class="text-xl mb-8 leading-relaxed">–ù–æ —Å–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π –±—ã—Å—Ç—Ä–æ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —Å–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –ª–µ–∂–∏—Ç —É —Ç–µ–±—è –ø—Ä—è–º–æ –ø–æ–¥ –Ω–æ—Å–æ–º üí∏</p>
    <button onclick="startQuiz()" class="btn py-3 px-6 rounded-none font-bold text-lg">–ù–∞—á–∞—Ç—å</button>
  `;
}

function startQuiz(){currentQuestionIndex=0;renderQuestion();}

function renderQuestion(){
  if(currentQuestionIndex>=quizData.length){renderFirstResultPage();return;}
  const data=quizData[currentQuestionIndex];
  const isMultiple=data.type==='multiple';
  const progress=(currentQuestionIndex/quizData.length)*100;
  const optionsHtml=data.options.map(option=>`<button onclick="${isMultiple?'toggleSelection(this)':'handleAnswer(\''+option+'\')'}" class="btn w-full text-lg py-3 px-4 rounded-none font-bold leading-normal fade-in">${option}</button>`).join('');
  container.innerHTML=`
    <div class="progress-bar-container"><div class="progress-bar" style="width:${progress}%"></div></div>
    <p class="text-sm mt-4 mb-2 fade-in">–í–æ–ø—Ä–æ—Å ${currentQuestionIndex+1}</p>
    <h2 class="text-xl font-bold mb-8 leading-tight fade-in">${data.question}</h2>
    <div id="options" class="flex flex-col gap-4 w-full">${optionsHtml}</div>
    ${isMultiple?'<button onclick="handleAnswerMultiple()" class="btn mt-6 py-3 px-6 rounded-none font-bold text-lg fade-in">–î–∞–ª–µ–µ</button>':''}
  `;
  requestAnimationFrame(()=>{document.querySelector('.progress-bar').style.opacity='1';});
}

function handleAnswer(answer){
  const data=quizData[currentQuestionIndex];
  let comment;
  userAnswers.push({question:data.question,answer:answer});
  comment=(data.comments && answer)?data.comments[answer]:data.comment;
  renderCommentPage(comment);
}

function handleAnswerMultiple(){
  const data=quizData[currentQuestionIndex];
  const selectedButtons=document.querySelectorAll('.selected');
  const selectedOptions=Array.from(selectedButtons).map(btn=>btn.innerText.trim());
  userAnswers.push({question:data.question,answer:selectedOptions});
  renderCommentPage(data.comment);
}

function toggleSelection(button){button.classList.toggle('selected');}

function renderCommentPage(comment){
  const progress=((currentQuestionIndex+1)/quizData.length)*100;
  container.innerHTML=`
    <div class="progress-bar-container"><div class="progress-bar" style="width:${progress}%"></div></div>
    <h2 class="text-xl font-bold mt-4 mb-8 leading-tight fade-in">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h2>
    <p class="text-xl mb-6 leading-relaxed